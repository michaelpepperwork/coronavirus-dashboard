<mat-card class="table-card card">
    <loading-mask *ngIf="isLoading; else showTable">
    </loading-mask>

    <ng-template #showTable>
        <h3 class="card__header">
            <span>Country Statistics</span>
            <span class="card__header--cta">
                <mat-form-field>
                    <mat-label>Filter by Country</mat-label>
                    <mat-select [(value)]="selected"
                        (selectionChange)="applyFilter($event)">
                        <mat-option>None</mat-option>
                        <mat-option *ngFor="let country of countries"
                            [value]="country.Slug">{{country.Country}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </span>


        </h3>

        <div class="card__table">
            <table mat-table [dataSource]="dataSource">

                <!-- Position Column -->
                <ng-container matColumnDef="Country">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element">
                        <span (click)="showCountryDetails(element)" class="clickable-link">
                            {{element.Country}}
                        </span>
                    </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="NewConfirmed">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.NewConfirmed}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="TotalConfirmed">
                    <th mat-header-cell *matHeaderCellDef> Weight </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.TotalConfirmed}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="NewDeaths">
                    <th mat-header-cell *matHeaderCellDef> Symbol </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.NewDeaths}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="TotalDeaths">
                    <th mat-header-cell *matHeaderCellDef> Symbol </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.TotalDeaths}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="NewRecovered">
                    <th mat-header-cell *matHeaderCellDef> Symbol </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.NewRecovered}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="TotalRecovered">
                    <th mat-header-cell *matHeaderCellDef> Symbol </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.TotalRecovered}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 15, 20]" [pageSize]="10"
                showFirstLastButtons></mat-paginator>
        </div>
    </ng-template>


</mat-card>
